!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.Dom=t():e.Dom=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r=n(1),o=n(2),i=n(3),u=n(4),c=n(5),a=n(6),f=n(7),l=n(8),s=n(9),d=l.variadic,y=l.filterBy,b=l.filterByTag,p={version:"0.0.1",button:d(y(r.isButton,f.button)),link:d(b("A",f.link)),field:d(y(r.isField,f.field)),fieldset:d(b("FIELDSET",f.fieldset)),form:d(b("FORM",f.form)),hidden:d(y(function(e){return"INPUT"===e.tagName&&"hidden"===e.type},f.hidden))};l.mix(p,l),l.mix(p,r),l.mix(p,o),l.mix(p,i),l.mix(p,u),l.mix(p,c),l.mix(p,a),p.Alias=s;var v=["button","link","field","fieldset","form","hidden"];l.mix(p,f,null,v),e.exports=p},function(e,t,n){function r(e){var t=u(e),n=["TEXT","CHECKBOX","RADIO","SELECT","TEXTAREA"];return-1!=n.indexOf(t)}function o(e){return"BUTTON"===u(e)}var i=n(8),u=i._getFieldType;e.exports={isField:r,isButton:o}},function(e,t,n){function r(e,t){if("object"==typeof e){var n=[];for(var o in e)n.push(r(o,e[o]));return n.join("")}return null==t&&(t=e),"["+e+"="+t+"]"}function o(e){return document.getElementById(e)}function i(e){return h().getElementsByTagName(e)}function u(e){return i(e)[0]}function c(e){return h().querySelectorAll(e)}function a(e){return h().querySelector(e)}function f(e){return document.getElementsByName(e)}function l(e){return f(e)[0]}function s(e){return h().getElementsByClassName(e)}function d(e){return s(e)[0]}function y(e,t,n){var o=r(t,n);return"string"==typeof e?by.oneByCss(e+o):e.querySelector?e.querySelector(o):void 0}function b(e,t){return y(e,"title",t)}function p(e,t){for(var n=i(e),r=0,o=n.length;o>r;r++){var u=n[r];if(u.textContent===t)return u}return null}function v(e,t){var n=p("label",e);if(!n)return null;var r=n.getAttribute("for");if(r)return document.getElementById(r);for(var o=n.childNodes,i=t||["INPUT","SELECT","TEXTAREA"],u=0,c=o.length;c>u;u++){var a=o[u];if(-1!=i.indexOf(a.tagName))return a}}var m=n(6),h=m.getScope;e.exports={byId:o,byTag:i,oneByTag:u,byCss:c,oneByCss:a,byName:f,oneByName:l,byClass:s,oneByClass:d,byAttr:y,byTitle:b,byText:p,byLabel:v}},function(e,t,n){function r(e){return e instanceof Element?e:null}function o(e){var t=r(e)||by.byLabel(e,["input"]);t&&"radio"===t.type&&(t.checked=!0)}function i(){for(var e=0,t=arguments.length;t>e;e++){var n=arguments[e],r=by.byLabel(n,["input"]);r&&"checkbox"===r.type&&(r.checked=!0)}}function u(){for(var e=0,t=arguments.length;t>e;e++){var n=arguments[e],r=by.byLabel(n,["input"]);r&&"checkbox"===r.type&&(r.checked=!1)}}function c(e,t){var n=r(e)||by.byLabel(e,["select"]);if(n){var o,i,u,c=n.options;if(n.multiple)for("string"==typeof t&&(t=[t]),o=0,i=c.length;i>o;o++)u=c[o],-1!==t.indexOf(u.text)&&(u.selected=!0);else for(o=0,i=c.length;i>o;o++)if(u=c[o],u.text===t){u.selected=!0;break}}}function a(e,t){scope.withIn(e,function(){var e,n,r;for(e in t)if(n=t[e],r=by.byLabel(e))r.value=n,"SELECT"===r.tagName&&c(r,n);else{var o=by.byText("label",e);if(o){var i=o.getAttribute("for"),u=by.byName(i);if(0===u.length){y(e+" not found");continue}var a=v(u[0]);if(-1===["CHECKBOX","RADIO"].indexOf(a)){y(e+" should be a checkbox or radio");continue}var f="CHECKBOX"===a;if(f&&!p(n)){y(e+" value should be a Array");continue}m(u,function(e,t){var r=e.id,o=by.byAttr("label","for",r);f?-1!==n.indexOf(o.textContent)&&(e.checked=!0):o.textContent===n&&(e.checked=!0)})}}})}function f(e,t){var n=by.byLabel(e,["input","textarea"]);n&&(n.value=t)}function l(e,t){scope.withIn(e,function(){for(var e in t)s(e,t[e])})}function s(e,t){var n=r(e);if(!n){var o=by.byName(e);n=o[0]}var i=v(n);switch(i){case"RADIO":var u=b(o,function(e){return e.value==t});u&&(u.checked=!0);break;case"CHECKBOX":var c=t.map(function(e){return e.toString()});m(o,function(e){e.checked=-1!==c.indexOf(e.value)?!0:!1});break;case"SELECT":var a=b(n.options,function(e){return e.value==t});a&&(a.selected=!0);break;case"TEXT":case"TEXTAREA":n.value=t}}var d=n(8),y=n(4).log;by=n(2),tag=n(7),scope=n(6);var b=d.findOne,p=d.isArray,v=d._getFieldType,m=d.each;e.exports={choose:o,check:i,uncheck:u,select:c,fillIn:f,fillForm:a,setField:s,setForm:l}},function(e,t,n){function r(e){u.push(e),u.length>20&&u.shift()}function o(e){console.warn(e),r(e)}function o(e){r(e)}function i(){return u.slice(0)}var u=[];void 0!==typeof console&&console.warn,e.exports={log:o,getLogs:i}},function(e,t,n){function r(e){e.style.display="block"}function o(e){e.style.display="none"}function i(e){e.disabled=!0}function u(e){e.disabled=!1}e.exports={show:r,hide:o,disable:i,enable:u}},function(e,t,n){function r(){return a||document.body}function o(e){e!==a&&(f=a,a=e)}function i(){a=f,f=null}function u(e,t){try{o(e),t(e,c.dsl(!0))}finally{i()}}var c=n(9),a=null,f=null;e.exports={withIn:u,setScope:o,getScope:r,resetScope:i}},function(e,t,n){function r(e){var t=byLabel(e);return Dom.isField(t)?t:void 0}function o(e){var t="input[type=button][value="+e+"]",n=Dom.oneByCss(t);return n?n:Dom.byText("button",e)}function i(e){return Dom.byText("a",e)}function u(e){return Dom.byText("legend",e)}function c(e){var t="input[type=hidden][name="+e+"]";return Dom.oneByCss(t)}function a(e){var t=Dom.fieldset(e);return t?t.form:null}function f(e,t){if("object"==typeof t){Object.keys(t)}return y(e.rows,function(e){var t=e.children[0];return t&&t.textContent.trim()===rowTitle})}function l(e,t,n){var r=e.rows[t];return r?r.children[n]:void 0}function s(e){var t=Dom.byText("label",e);if(t){var n=t.getAttribute("for");return Dom.byName(n)}return[]}var d=n(8),y=d.findOne;e.exports={field:r,button:o,link:i,fieldset:u,hidden:c,form:a,row:f,cell:l,group:s}},function(e,t,n){function r(e,t){for(var n=0,r=e.length;r>n&&t(e[n],n)!==!1;n++);}function o(e,t){var n=null;return r(e,function(e,r){return t(e)===!0?(n=e,!1):void 0}),n}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function u(e){return Array.prototype.slice.call(e,0)}function c(e){return function(t){if(arguments.length>1){for(var n=[],r=0,o=arguments.length;o>r;r++){var u=e(arguments[r]);u&&(i(u)||u instanceof HTMLCollection?n=n.concat(a):n.push(u))}return n}return e(t)}}function f(e,t){return l(function(t){return t.tagName===e.toUpperCase()},t)}function l(e,t){return function(n){return n instanceof Element&&e(n)?null:i(n)||n instanceof HTMLCollection?u(n).filter(function(t){return e(t)}):t(n)}}function s(e){var t=e.tagName,n=e.type;if("INPUT"!==t)return t;switch(n){case"radio":case"checkbox":return n.toUpperCase();case"button":case"submit":case"reset":return"BUTTON";default:return"TEXT"}}var d=function(e,t,n,r){return e||(e={}),n||(n=Object.keys(t)),n.forEach(r?function(n){-1===r.indexOf(n)&&(e[n]=t[n])}:function(n){e[n]=t[n]}),e};e.exports={each:r,findOne:o,isArray:i,toArray:u,variadic:c,filterBy:l,filterByTag:f,_getFieldType:s,mix:d}},function(e,t,n){function r(e){this.__map={},this.__cache=void 0===e?!0:!!e}var o=r.prototype;r.dsl=function(e){var t=new r(e),n=function(e){return t.el(e)},o=["cache","set","unset","clear"];return o.forEach(function(e){n[e]=t[e].bind(t)}),n},o.cache=function(e){this.__cache=!!e},o.set=function(e,t,n){if("object"!=typeof e)return"object"==typeof t&&(t=t.selector,n=t.getAll),/^\[.*\]$/.test(t)&&(t=t.slice(1,t.length-1),n=!0),this.__map[e]={selector:t,getAll:!!n},this;n=t;for(var r in e)this.set(r,e[r],n)},o.unset=function(e){return delete this.__map[e],this},o.clear=function(){this.__map={}},o.el=function(e){var t=this.__map[e];if(t){if(this.__cache&&n in t)return t.result;var n;return n=t.getAll?document.querySelectorAll(t.selector):document.querySelector(t.selector),this.__cache&&(this.result=n),n}},e.exports=r}])});